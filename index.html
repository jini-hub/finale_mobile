<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Finale | ìƒì†Â·ì„¸ë¬´ ëª¨ë°”ì¼ ë°ëª¨</title>
  <style>
    /* === 1. ë””ìì¸ ì‹œìŠ¤í…œ (íŒŒë€ìƒ‰ í…Œë§ˆ) === */
    :root {
      --bg: #f0f2f5;           /* ë°°ê²½ìƒ‰: ì•„ì£¼ ì—°í•œ íšŒìƒ‰ (ë°•ìŠ¤ê°€ ì˜ ë³´ì´ê²Œ) */
      --text: #111827;         /* ë³¸ë¬¸ í…ìŠ¤íŠ¸ */
      --muted: #6b7280;        /* ë³´ì¡° í…ìŠ¤íŠ¸ */
      --card: #ffffff;         /* ì¹´ë“œ ë°°ê²½: í°ìƒ‰ */
      --line: #dae1e7;         /* í…Œë‘ë¦¬ ìƒ‰ìƒ */
      
      /* â˜… ìš”ì²­í•˜ì‹  íŒŒë€ìƒ‰(Blue) í…Œë§ˆ ì ìš© â˜… */
      --brand: #1e3a8a;        /* ì§„í•œ ë„¤ì´ë¹„ (ë¡œê³ , ê°•ì¡°) */
      --primary: #2563eb;      /* ë°ì€ íŒŒë‘ (ë²„íŠ¼, ë§í¬) */
      --primary-text: #ffffff; /* ë²„íŠ¼ ê¸€ì”¨ìƒ‰ */
      --secondary-bg: #eff6ff; /* ì•„ì£¼ ì—°í•œ íŒŒë‘ (ë°•ìŠ¤ ë°°ê²½ ë“±) */
      
      --shadow: 0 2px 8px rgba(0,0,0,0.08); /* ë°•ìŠ¤ ê·¸ë¦¼ì ê°•í™” */
      --nav-height: 60px;
    }

    /* === 2. ê¸°ë³¸ ì„¤ì • === */
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; -webkit-tap-highlight-color: transparent; }
    a { text-decoration: none; color: inherit; }
    button, input, textarea, select { font-family: inherit; }

    /* í™”ë©´ ì „í™˜ íš¨ê³¼ */
    .container { max-width: 480px; margin: 0 auto; min-height: 100vh; background: var(--bg); position: relative; padding-bottom: 80px; }
    section.screen { display: none; padding: 16px; animation: fadeIn 0.3s ease; }
    section.screen:target { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    /* === 3. í•µì‹¬ ë ˆì´ì•„ì›ƒ (ë°•ìŠ¤ë“¤ì´ ì‚¬ë¼ì§€ì§€ ì•Šê²Œ ë³µêµ¬) === */
    
    /* [ë°•ìŠ¤ ìŠ¤íƒ€ì¼] ì¹´ë“œ */
    .card { 
        background: var(--card); 
        border: 1px solid var(--line); 
        border-radius: 16px; 
        padding: 20px; 
        margin-bottom: 12px; 
        box-shadow: var(--shadow); /* ê·¸ë¦¼ì ì¶”ê°€ */
    }

    /* [ê·¸ë¦¬ë“œ] í™ˆ í™”ë©´ ë°”ë¡œê°€ê¸° ë°•ìŠ¤ë“¤ */
    .grid-4 { 
        display: grid; 
        grid-template-columns: repeat(4, 1fr); 
        gap: 8px; 
        margin: 12px 0; 
    }
    
    /* [ë°”ë¡œê°€ê¸° ì•„ì´ì½˜] */
    .shortcut { 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center;
        gap: 6px; 
        border: 1px solid var(--line); /* í…Œë‘ë¦¬ ë³µêµ¬ */
        border-radius: 12px; 
        padding: 12px 4px; 
        background: var(--card); 
        font-size: 12px;
        color: var(--text);
        box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    }
    .shortcut .ic { font-size: 24px; margin-bottom: 2px; }

    /* [ì„œë¹„ìŠ¤ ì„ íƒ ì¹´ë“œ] í° ë°•ìŠ¤ */
    .select-card {
        display: flex;
        align-items: center;
        gap: 16px;
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 12px;
        box-shadow: var(--shadow);
    }
    .select-card .ic { font-size: 32px; }
    .select-title { font-weight: 800; font-size: 16px; margin-bottom: 4px; }
    .select-desc { font-size: 13px; color: var(--muted); }

    /* [ë¦¬ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼] ë²•ë¬´/ì„¸ë¬´ ë©”ë‰´ */
    .list-elev { list-style: none; padding: 0; margin: 0; }
    .list-elev .list-item {
        background: var(--card);
        border: 1px solid var(--line);
        border-radius: 14px;
        padding: 16px;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    }
    .list-title { font-weight: 700; margin-bottom: 4px; font-size: 15px; }
    .list-desc { font-size: 12px; color: var(--muted); }

    /* === 4. UI êµ¬ì„±ìš”ì†Œ === */
    .appbar { position: sticky; top: 0; z-index: 100; display: flex; align-items: center; gap: 10px; padding: 0 16px; height: 54px; background: var(--card); border-bottom: 1px solid var(--line); }
    .appbar .brand { display: flex; align-items: center; gap: 8px; font-weight: 800; font-size: 18px; color: var(--brand); }
    .appbar .logo { display: inline-grid; place-items: center; width: 24px; height: 24px; border-radius: 6px; background: var(--brand); color: white; font-size: 14px; }
    .icon-btn { border: none; background: transparent; padding: 8px; font-size: 20px; cursor: pointer; }

    .tabbar { position: fixed; bottom: 0; left: 0; right: 0; margin: 0 auto; max-width: 480px; height: 60px; background: var(--card); border-top: 1px solid var(--line); display: grid; grid-template-columns: repeat(5, 1fr); z-index: 100; }
    .tab { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px; font-size: 10px; color: var(--muted); }
    .tab.active { color: var(--brand); font-weight: bold; }
    .tab .ic { font-size: 20px; }

    .btn { border: 1px solid var(--line); background: var(--card); border-radius: 10px; padding: 12px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 6px; font-size: 14px; }
    .btn.primary { background: var(--brand); border-color: var(--brand); color: white; }
    .btn.ghost { background: transparent; border: none; color: var(--muted); }
    .btn.small { padding: 8px 12px; font-size: 12px; border-radius: 8px; }
    .btn.full { width: 100%; }
    
    .input { width: 100%; padding: 12px; border: 1px solid var(--line); border-radius: 10px; font-size: 15px; background: #f9fafb; outline: none; margin-bottom: 10px; }
    .input:focus { border-color: var(--brand); background: white; }

    /* ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ */
    .hstack { display: flex; align-items: center; }
    .vstack { display: flex; flex-direction: column; }
    .space-between { justify-content: space-between; }
    .gap-10 { gap: 10px; } .gap-4 { gap: 4px; }
    .bold { font-weight: 700; }
    .text-sm { font-size: 14px; } .tiny { font-size: 11px; }
    .muted { color: var(--muted); }
    .mt-10 { margin-top: 10px; } .mt-6 { margin-top: 6px; } .mb-10 { margin-bottom: 10px; }
    .grow { flex: 1; }
    .center { text-align: center; } .right { text-align: right; }
    
    .chip { border: 1px solid var(--line); background: white; border-radius: 20px; padding: 6px 12px; font-size: 12px; }
    .badge-new { background: #ef4444; color: white; font-size: 10px; padding: 2px 6px; border-radius: 4px; margin-left: 4px; }

    /* === 5. íŠ¹ìˆ˜ ê¸°ëŠ¥ (ì •ë¶€ë¬¸ì„œ, ì±„íŒ…, ì²´í¬ë¦¬ìŠ¤íŠ¸) === */
    /* [ì •ë¶€ ë¬¸ì„œ] */
    .doc-paper { background: white; border: 1px solid var(--line); padding: 20px; box-shadow: 2px 2px 5px rgba(0,0,0,0.05); font-family: "Batang", serif; position: relative; color: #333; margin-bottom: 16px; }
    .doc-header { text-align: center; border-bottom: 2px double #333; margin-bottom: 15px; padding-bottom: 10px; }
    .doc-title { font-size: 18px; font-weight: bold; letter-spacing: 2px; }
    .doc-table { width: 100%; border-collapse: collapse; font-size: 12px; margin-bottom: 15px; }
    .doc-table th { background: #f3f4f6; border: 1px solid #999; padding: 6px; text-align: center; font-weight: bold; }
    .doc-table td { border: 1px solid #999; padding: 6px; }
    .stamp-box { position: absolute; bottom: 20px; right: 20px; width: 50px; height: 50px; border: 3px solid #ef4444; border-radius: 50%; color: #ef4444; display: flex; align-items: center; justify-content: center; font-weight: bold; transform: rotate(-15deg); opacity: 0.8; }
    .highlight-bg { background: #fef9c3; }

    /* [ì²´í¬ë¦¬ìŠ¤íŠ¸] */
    .check-tab-container { overflow-x: auto; white-space: nowrap; padding-bottom: 8px; }
    .check-tab-btn { background: white; border: 1px solid var(--line); padding: 8px 16px; border-radius: 20px; font-size: 13px; color: var(--muted); cursor: pointer; margin-right: 6px; }
    .check-tab-btn.active { background: var(--brand); color: white; border-color: var(--brand); font-weight: bold; }
    .check-content { display: none; animation: fadeIn 0.3s; }
    .check-content.active { display: block; }
    .check-item { display: flex; align-items: flex-start; padding: 12px 0; border-bottom: 1px solid var(--line); cursor: pointer; }
    .check-item input { margin-right: 12px; margin-top: 4px; accent-color: var(--brand); transform: scale(1.2); }

    /* [ì±„íŒ…] */
    .chat-screen { background-color: #dbeafe; /* ì±„íŒ… ë°°ê²½: ì—°í•œ íŒŒë‘ */ padding: 0 !important; display: flex; flex-direction: column; height: 100vh; }
    .chat-area { flex: 1; padding: 16px; overflow-y: auto; padding-bottom: 80px; }
    .chat-date { text-align: center; font-size: 11px; background: rgba(0,0,0,0.1); color: white; padding: 4px 12px; border-radius: 12px; margin: 10px auto; width: fit-content; }
    .chat-bubble-row { display: flex; margin-bottom: 10px; }
    .chat-bubble-row.me { justify-content: flex-end; }
    .chat-bubble { max-width: 75%; padding: 10px 14px; border-radius: 12px; font-size: 14px; line-height: 1.4; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
    .chat-bubble.you { background: white; color: #333; border-top-left-radius: 0; }
    .chat-bubble.me { background: var(--brand); color: white; border-top-right-radius: 0; }
    .chat-profile { width: 36px; height: 36px; background: white; border-radius: 50%; margin-right: 8px; display: flex; align-items: center; justify-content: center; font-size: 20px; border: 1px solid #eee; }
    .chat-input-bar { position: fixed; bottom: 0; left: 0; right: 0; max-width: 480px; margin: 0 auto; background: white; padding: 10px; display: flex; align-items: center; border-top: 1px solid var(--line); }

    /* [ì‚¬ì´ë“œë©”ë‰´ & ëª¨ë‹¬] */
    #menuOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1999; display: none; }
    #menuOverlay.active { display: block; }
    #sideMenu { position: fixed; top: 0; left: -280px; width: 280px; height: 100%; background: white; z-index: 2000; transition: left 0.3s; box-shadow: 2px 0 10px rgba(0,0,0,0.1); }
    #sideMenu.active { left: 0; }
    .menu-list a { display: block; padding: 16px 20px; border-bottom: 1px solid #f3f4f6; color: var(--text); }
    
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3000; display: none; align-items: center; justify-content: center; }
    .modal-overlay.active { display: flex; }
    .write-card { background: white; width: 90%; max-width: 400px; border-radius: 16px; padding: 20px; animation: fadeIn 0.3s; }
  </style>
</head>
<body>

  <div id="menuOverlay" onclick="toggleMenu()"></div>

  <aside id="sideMenu">
      <div style="padding:24px; background:#f9fafb; border-bottom:1px solid #eee;">
          <div class="hstack space-between">
            <h3 style="margin:0; font-size:16px;">ê¹€â—‹â—‹ë‹˜, ì•ˆë…•í•˜ì„¸ìš”</h3>
            <button onclick="toggleMenu()" class="btn ghost" style="font-size:20px;">âœ•</button>
          </div>
          <p class="tiny muted mt-6">finale@example.com</p>
          <button class="btn primary small full mt-10">ë¡œê·¸ì•„ì›ƒ</button>
      </div>
      <ul class="menu-list" style="list-style:none; padding:0; margin:0;">
          <li><a href="#">ğŸ“‚ ë‚´ ì„œë¥˜ ë³´ê´€í•¨ <span class="badge-new">NEW</span></a></li>
          <li><a href="#doc-checklist" onclick="toggleMenu()">ğŸ“‹ í•„ìš” ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸</a></li>
          <li><a href="#qna-list" onclick="toggleMenu()">ğŸ—£ï¸ ìƒì† ì»¤ë®¤ë‹ˆí‹°</a></li>
          <li><a href="#guide-detail" onclick="toggleMenu()">â“ ì´ìš© ê°€ì´ë“œ</a></li>
          <li><a href="#">âš™ï¸ í™˜ê²½ì„¤ì •</a></li>
      </ul>
  </aside>

  <div id="writeModal" class="modal-overlay">
      <div class="write-card">
          <div class="hstack space-between mb-10">
              <h3 style="margin:0;">ì§ˆë¬¸í•˜ê¸°</h3>
              <button onclick="closeQnaWrite()" class="btn ghost" style="font-size:20px;">âœ•</button>
          </div>
          <label class="tiny bold muted">ì¹´í…Œê³ ë¦¬</label>
          <select id="qna-category" class="input">
              <option>ìƒì†ì„¸/ì¦ì—¬ì„¸</option><option>ë¶€ë™ì‚°/ë“±ê¸°</option><option>ë¹š ìƒì†</option>
          </select>
          <label class="tiny bold muted">ì œëª©</label>
          <input type="text" id="qna-title" class="input">
          <label class="tiny bold muted">ë‚´ìš©</label>
          <textarea id="qna-content" class="input" style="height:100px; resize:none;"></textarea>
          <button class="btn primary full" onclick="submitQuestion()">ë“±ë¡í•˜ê¸°</button>
      </div>
  </div>

  <header class="appbar">
    <button class="icon-btn" onclick="toggleMenu()">â˜°</button>
    <div class="brand"><span class="logo">F</span> Finale</div>
    <div class="grow"></div>
    <button class="icon-btn">ğŸ”</button>
    <button class="icon-btn">ğŸ””</button>
  </header>

  <main class="container">
    
    <section class="screen" id="login">
      <div class="center" style="margin-top:60px; margin-bottom:40px;">
        <div class="brand" style="justify-content:center; font-size:40px; margin-bottom:10px;">
            <span class="logo" style="width:40px; height:40px; font-size:24px;">F</span> Finale
        </div>
        <p class="muted">ë³µì¡í•œ ìƒì†, ì´ì œëŠ” ì‰½ê³  ê°„í¸í•˜ê²Œ</p>
      </div>
      <div class="card">
        <form onsubmit="location.hash='#home'; return false;" class="vstack gap-10">
          <input type="email" class="input" placeholder="ì•„ì´ë””(ì´ë©”ì¼)" required style="margin:0;">
          <input type="password" class="input" placeholder="ë¹„ë°€ë²ˆí˜¸" required style="margin:0;">
          <button class="btn primary full" type="submit">ë¡œê·¸ì¸</button>
        </form>
        <div class="center tiny muted mt-10 mb-10">ë˜ëŠ”</div>
        <div class="hstack gap-10 center" style="justify-content:center;">
          <button class="chip">Kakao</button><button class="chip">Naver</button><button class="chip">Google</button>
        </div>
      </div>
    </section>

    <section class="screen" id="home">
      <div class="card">
        <div class="hstack space-between">
          <div><div class="muted tiny">ê¹€â—‹â—‹ë‹˜ ìƒì†,</div><div class="bold text-sm">3ë‹¨ê³„ ì§„í–‰ ì¤‘</div></div>
          <button class="btn ghost small">ì„¸ë¶€ ì •ë³´</button>
        </div>
        <button class="btn primary full mt-10" onclick="location.hash='#choose'">ìƒˆ ìƒì† ì‹œì‘í•˜ê¸°</button>
        <div class="muted tiny mt-6 center">ì§€ê¸ˆ ì‹œì‘í•˜ì§€ ì•Šìœ¼ë©´ ì‹ ê³  ê¸°í•œì„ ë†“ì¹  ìˆ˜ ìˆì–´ìš”!</div>
      </div>

      <div class="grid-4">
        <a class="shortcut" href="#status"><span class="ic">ğŸ“Š</span><span>ì§„í–‰ í˜„í™©</span></a>
        <a class="shortcut" href="#assets"><span class="ic">ğŸ’¼</span><span>ë‚´ ìì‚°</span></a>
        <a class="shortcut" href="#experts"><span class="ic">ğŸ‘¥</span><span>ì „ë¬¸ê°€</span></a>
        <a class="shortcut" href="#mypage"><span class="ic">ğŸ‘¤</span><span>ë‚´ ì •ë³´</span></a>
      </div>

      <div class="card">
        <div class="bold mb-10">ê°„í¸ ìƒì† ê°€ì´ë“œ</div>
        <div class="hstack gap-10">
            <a href="#guide-detail" class="grow" style="background:var(--secondary-bg); padding:16px; border-radius:12px; text-align:center;">
                <div style="font-size:24px;">ğŸ“–</div><div class="bold tiny mt-6">ì´ˆë³´ì ê°€ì´ë“œ</div>
            </a>
            <a href="#doc-checklist" class="grow" style="background:var(--secondary-bg); padding:16px; border-radius:12px; text-align:center;">
                <div style="font-size:24px;">âœ…</div><div class="bold tiny mt-6">í•„ìš” ì„œë¥˜</div>
            </a>
        </div>
      </div>
      
      <div class="card" onclick="location.hash='#qna-list'">
          <div class="hstack space-between">
              <span class="bold">ì „ë¬¸ê°€ Q&A</span>
              <span class="tiny muted">ë”ë³´ê¸° ></span>
          </div>
          <p class="tiny muted mt-6">"ìƒì† ì°©ìˆ˜, ì–´ë””ì„œë¶€í„° ì‹œì‘í•´ì•¼ í• ê¹Œìš”?"</p>
      </div>
    </section>

    <section class="screen" id="choose">
      <div class="vstack gap-10">
        <a class="select-card" href="#legal">
          <div class="ic">âš–ï¸</div>
          <div><div class="select-title">ë²•ë¬´ ì„œë¹„ìŠ¤</div><div class="select-desc">ìƒì† í™•ì¸, ë“±ê¸°, ìœ ë¥˜ë¶„ ë“±</div></div>
        </a>
        <a class="select-card" href="#tax">
          <div class="ic">ğŸ§¾</div>
          <div><div class="select-title">ì„¸ë¬´ ì„œë¹„ìŠ¤</div><div class="select-desc">ìƒì†ì„¸ ê³„ì‚°, ì‹ ê³ , ì¦ì—¬</div></div>
        </a>
      </div>
    </section>

    <section class="screen" id="legal">
      <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">ë²•ë¬´ ì„œë¹„ìŠ¤</h3></div>
      <ul class="list-elev">
        <li class="list-item"><div><div class="list-title">ìƒì† ì¬ì‚° ì¡°íšŒ</div><div class="list-desc">ì‚¬ë§ì ì¬ì‚° í˜„í™© íŒŒì•…</div></div><a href="#legal-property-sample" class="btn primary small">ì‹œì‘</a></li>
        <li class="list-item"><div><div class="list-title">ìƒì†ì¸ í™•ì¸</div><div class="list-desc">ìƒì† ìˆœìœ„ ë° ì„œë¥˜ ì•ˆë‚´</div></div><a href="#legal-heir-sample" class="btn primary small">ì‹œì‘</a></li>
        <li class="list-item"><div><div class="list-title">ìƒì† ë“±ê¸°</div><div class="list-desc">ë¶€ë™ì‚° ë“±ê¸° ì ˆì°¨ ì§„í–‰</div></div><a href="#legal-reg-sample" class="btn primary small">ì‹œì‘</a></li>
        <li class="list-item"><div><div class="list-title">ì „ë¬¸ê°€ ìƒë‹´</div><div class="list-desc">ë²•ì  ìë¬¸ ë° ë¶„ìŸ í•´ê²°</div></div><a href="#experts" class="btn ghost small">ì—°ê²°</a></li>
      </ul>
    </section>

    <section class="screen" id="tax">
      <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">ì„¸ë¬´ ì„œë¹„ìŠ¤</h3></div>
      <ul class="list-elev">
        <li class="list-item"><div><div class="list-title">ìƒì†ì„¸ ê³„ì‚°ê¸°</div><div class="list-desc">ì˜ˆìƒ ì„¸ê¸ˆ ê°„í¸ ê³„ì‚°</div></div><a href="#tax-calc" class="btn primary small">ê³„ì‚°</a></li>
        <li class="list-item"><div><div class="list-title">ì‹ ê³ ì„œ ë¯¸ë¦¬ë³´ê¸°</div><div class="list-desc">êµ­ì„¸ì²­ ë²•ì • ì„œì‹ ì‘ì„±</div></div><a href="#tax-return-sample" class="btn primary small">ë³´ê¸°</a></li>
        <li class="list-item"><div><div class="list-title">ì„¸ë¬´ì‚¬ ìƒë‹´</div><div class="list-desc">ì ˆì„¸ ì „ëµ ë° ì‹ ê³  ëŒ€í–‰</div></div><a href="#experts" class="btn ghost small">ì—°ê²°</a></li>
      </ul>
    </section>

    <section class="screen" id="tax-calc">
       <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">ìƒì†ì„¸ ê³„ì‚°ê¸°</h3></div>
       <div class="card">
           <label class="tiny bold muted">ì´ ìƒì† ìì‚° (ì›)</label>
           <input type="text" id="calc-asset" class="input" placeholder="ì˜ˆ: 1,500,000,000" onkeyup="formatNumber(this)">
           
           <label class="tiny bold muted mt-10">ì´ ë¶€ì±„ ë° ì¥ë¡€ë¹„ìš© (ì›)</label>
           <input type="text" id="calc-debt" class="input" placeholder="ì˜ˆ: 100,000,000" onkeyup="formatNumber(this)">
           
           <label class="tiny bold muted mt-10">ê³µì œ ê¸ˆì•¡ (ê¸°ë³¸ 10ì–µ ê°€ì •)</label>
           <input type="text" id="calc-deduction" class="input" value="1,000,000,000" readonly style="background:#eee;">
           
           <button class="btn primary full mt-10" onclick="calculateInheritanceTax()">ê³„ì‚°í•˜ê¸°</button>
           
           <div id="calc-result" class="calc-result-box">
               <div class="tiny muted">ì˜ˆìƒ ë‚©ë¶€ ìƒì†ì„¸</div>
               <div id="calc-tax-amount" style="font-size:24px; font-weight:800; color:var(--brand); margin:10px 0;">0ì›</div>
               <div class="tiny muted">ê³¼ì„¸í‘œì¤€: <span id="calc-base">0</span>ì› (ëˆ„ì§„ì„¸ìœ¨ ì ìš©)</div>
           </div>
       </div>
    </section>

    <section class="screen" id="tax-return-sample">
        <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">ì‹ ê³ ì„œ ë¯¸ë¦¬ë³´ê¸°</h3></div>
        <div class="doc-paper">
            <div class="doc-header"><div class="doc-title">ìƒì†ì„¸ ê³¼ì„¸í‘œì¤€ì‹ ê³ ì„œ</div></div>
            <table class="doc-table">
                <tr><th>êµ¬ë¶„</th><th>ê¸ˆì•¡ (ì›)</th></tr>
                <tr><td>â‘  ìƒì†ì¬ì‚°ê°€ì•¡</td><td class="right">1,250,000,000</td></tr>
                <tr><td>â‘¡ ê³µì œ/ë¹„ìš©</td><td class="right text-red">- 1,105,000,000</td></tr>
                <tr class="highlight-bg"><td>â‘¢ ë‚©ë¶€í•  ì„¸ì•¡</td><td class="right bold" style="color:var(--brand);">18,430,000</td></tr>
            </table>
            <div class="center tiny mt-10">ã€Œìƒì†ì„¸ ë° ì¦ì—¬ì„¸ë²•ã€ì— ë”°ë¼ ì‹ ê³ í•©ë‹ˆë‹¤.</div>
            <div class="stamp-box">í™•ì¸</div>
        </div>
        <button class="btn primary full">ì„¸ë¬´ì‚¬ì—ê²Œ ì „ì†¡</button>
    </section>

    <section class="screen" id="legal-property-sample">
        <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">ì¬ì‚° ì¡°íšŒ ê²°ê³¼</h3></div>
        <div class="doc-paper">
            <div class="doc-header"><div class="doc-title">ìƒì†ì¸ ê¸ˆìœµê±°ë˜ ì¡°íšŒ</div></div>
            <table class="doc-table">
                <tr><th>ê¸°ê´€ëª…</th><th>ìƒí’ˆ</th><th>ì”ì•¡</th></tr>
                <tr><td>ì‹ í•œì€í–‰</td><td>ì˜ˆê¸ˆ</td><td class="right text-blue">+5,000ë§Œ</td></tr>
                <tr><td>ìš°ë¦¬ì€í–‰</td><td>ëŒ€ì¶œ</td><td class="right text-red">-1ì–µ</td></tr>
            </table>
            <div class="center bold mt-10">ê¸ˆìœµê°ë…ì›ì¥</div>
            <div class="stamp-box">ì¸</div>
        </div>
    </section>

    <section class="screen" id="doc-checklist">
        <div class="hstack gap-10 mb-10"><button onclick="history.back()" class="btn ghost">â†</button><h3 class="title-sm">í•„ìš” ì„œë¥˜</h3></div>
        <div class="check-tab-container">
             <button class="check-tab-btn active" onclick="showTab('common')">ê³µí†µ í•„ìˆ˜</button>
             <button class="check-tab-btn" onclick="showTab('estate')">ë¶€ë™ì‚° ë“±ê¸°</button>
             <button class="check-tab-btn" onclick="showTab('bank')">ê¸ˆìœµ/ì˜ˆê¸ˆ</button>
             <button class="check-tab-btn" onclick="showTab('giveup')">ìƒì† í¬ê¸°</button>
        </div>
        <div class="card mt-10" style="min-height:300px;">
            <div id="tab-common" class="check-content active">
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ê¸°ë³¸ì¦ëª…ì„œ (ìƒì„¸)</div><div class="tiny muted">ì£¼ë¯¼ë²ˆí˜¸ ì „ë¶€ ê³µê°œ</div></div></label></div>
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ê°€ì¡±ê´€ê³„ì¦ëª…ì„œ</div></div></label></div>
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ì¸ê°ì¦ëª…ì„œ (ì „ì›)</div></div></label></div>
            </div>
            <div id="tab-estate" class="check-content">
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">í† ì§€/ê±´ì¶•ë¬¼ ëŒ€ì¥</div></div></label></div>
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ì·¨ë“ì„¸ ë‚©ë¶€í™•ì¸ì„œ</div></div></label></div>
            </div>
            <div id="tab-bank" class="check-content">
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ê¸ˆìœµê±°ë˜ì¡°íšŒ ì‹ ì²­ì„œ</div></div></label></div>
            </div>
            <div id="tab-giveup" class="check-content">
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ì‹¬íŒì²­êµ¬ì„œ</div></div></label></div>
                <div class="check-item"><label class="hstack grow"><input type="checkbox"><div><div class="bold text-sm">ë¶€ì±„ì¦ëª…ì„œ</div></div></label></div>
            </div>
            <button class="btn primary full mt-10" onclick="alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!')">ì €ì¥í•˜ê¸°</button>
        </div>
    </section>

    <section class="screen" id="experts">
        <div class="card" style="background:var(--secondary-bg); border:none;"><h3 class="bold text-sm">ìƒì† ì „ë¬¸ íŒŒíŠ¸ë„ˆ ì¶”ì²œ</h3></div>
        <div class="vstack gap-10">
            <div class="card">
                <div class="hstack gap-10">
                    <div class="chat-profile">ğŸ‘¨â€âš–ï¸</div>
                    <div><div class="bold">ê¹€ë²•ë¬´ ë³€í˜¸ì‚¬</div><div class="tiny muted">ìƒì†ë“±ê¸° ì „ë¬¸</div></div>
                </div>
                <div class="hstack gap-10 mt-10">
                    <button class="btn ghost small grow">í”„ë¡œí•„</button>
                    <button class="btn primary small grow" onclick="location.hash='#chat-lawyer'">ìƒë‹´ ì‹ ì²­</button>
                </div>
            </div>
            <div class="card">
                <div class="hstack gap-10">
                    <div class="chat-profile">ğŸ‘©â€ğŸ’¼</div>
                    <div><div class="bold">ì´ì„¸ë¬´ ì„¸ë¬´ì‚¬</div><div class="tiny muted">ìƒì†ì„¸ ì ˆì„¸</div></div>
                </div>
                <div class="hstack gap-10 mt-10">
                    <button class="btn ghost small grow">í”„ë¡œí•„</button>
                    <button class="btn primary small grow" onclick="location.hash='#chat-tax'">ìƒë‹´ ì‹ ì²­</button>
                </div>
            </div>
        </div>
    </section>

    <section class="screen chat-screen" id="chat-lawyer">
        <div class="appbar" style="background:white;">
            <button onclick="history.back()" class="icon-btn">â†</button><div class="bold">ê¹€ë²•ë¬´ ë³€í˜¸ì‚¬</div>
        </div>
        <div class="chat-area" id="msg-area-lawyer">
            <div class="chat-date">2025ë…„ 10ì›” 12ì¼</div>
            <div class="chat-bubble-row you"><div class="chat-profile">ğŸ‘¨â€âš–ï¸</div><div><div class="chat-name tiny muted">ê¹€ë²•ë¬´</div><div class="chat-bubble you">ì•ˆë…•í•˜ì„¸ìš”. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?</div></div></div>
        </div>
        <div class="chat-input-bar">
            <input type="text" class="input" id="input-lawyer" placeholder="ë©”ì‹œì§€ ì…ë ¥" style="margin:0; flex:1;" onkeypress="handleEnter(event, 'lawyer')">
            <button class="chat-send-btn" onclick="sendMessage('lawyer')">â¤</button>
        </div>
    </section>

    <section class="screen chat-screen" id="chat-tax">
        <div class="appbar" style="background:white;">
            <button onclick="history.back()" class="icon-btn">â†</button><div class="bold">ì´ì„¸ë¬´ ì„¸ë¬´ì‚¬</div>
        </div>
        <div class="chat-area" id="msg-area-tax">
            <div class="chat-date">2025ë…„ 10ì›” 12ì¼</div>
            <div class="chat-bubble-row you"><div class="chat-profile">ğŸ‘©â€ğŸ’¼</div><div><div class="chat-name tiny muted">ì´ì„¸ë¬´</div><div class="chat-bubble you">ë°˜ê°‘ìŠµë‹ˆë‹¤. ì„¸ë¬´ ìƒë‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤.</div></div></div>
        </div>
        <div class="chat-input-bar">
            <input type="text" class="input" id="input-tax" placeholder="ë©”ì‹œì§€ ì…ë ¥" style="margin:0; flex:1;" onkeypress="handleEnter(event, 'tax')">
            <button class="chat-send-btn" onclick="sendMessage('tax')">â¤</button>
        </div>
    </section>

    <section class="screen" id="qna-list">
        <div class="hstack space-between mb-10"><h3 class="title-sm">ì „ë¬¸ê°€ Q&A</h3><button class="btn primary small" onclick="openQnaWrite()">ì§ˆë¬¸í•˜ê¸°</button></div>
        <div class="vstack gap-10" id="qna-container">
            <div class="card">
                <div class="hstack space-between mb-10"><span class="tiny bold" style="color:var(--brand);">#ìƒì†ì„¸</span><span class="status-done">ë‹µë³€ì™„ë£Œ</span></div>
                <div class="bold">ë°°ìš°ì ê³µì œ í•œë„ ë¬¸ì˜</div>
                <div class="tiny muted mt-6">30ì–µê¹Œì§€ ê°€ëŠ¥í•œê°€ìš”?</div>
            </div>
            <div class="card">
                <div class="hstack space-between mb-10"><span class="tiny bold" style="color:var(--brand);">#ë“±ê¸°</span><span class="status-wait">ë‹µë³€ëŒ€ê¸°</span></div>
                <div class="bold">ë¯¸ë“±ê¸° ê±´ë¬¼ ìƒì†</div>
                <div class="tiny muted mt-6">ì‹œê³¨ì§‘ì´ ë¬´í—ˆê°€ì…ë‹ˆë‹¤.</div>
            </div>
        </div>
    </section>

    <section class="screen" id="status"><div class="card center">ì§„í–‰ í˜„í™© í˜ì´ì§€</div></section>
    <section class="screen" id="assets"><div class="card center">ë‚´ ìì‚° í˜ì´ì§€</div></section>
    <section class="screen" id="mypage"><div class="card center">ë§ˆì´ í˜ì´ì§€</div></section>

  </main>

  <nav class="tabbar">
    <a href="#home" class="tab active"><span class="ic">ğŸ </span><span>í™ˆ</span></a>
    <a href="#status" class="tab"><span class="ic">ğŸ“Š</span><span>í˜„í™©</span></a>
    <a href="#assets" class="tab"><span class="ic">ğŸ’¼</span><span>ìì‚°</span></a>
    <a href="#experts" class="tab"><span class="ic">ğŸ‘¥</span><span>ì „ë¬¸ê°€</span></a>
    <a href="#mypage" class="tab"><span class="ic">ğŸ‘¤</span><span>ë§ˆì´</span></a>
  </nav>

  <script>
    // 1. ì´ˆê¸° ë¡œë”© ì‹œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™
    if(!location.hash) location.hash = "#login";

    // 2. ë©”ë‰´ í† ê¸€
    function toggleMenu() {
        document.getElementById('sideMenu').classList.toggle('active');
        document.getElementById('menuOverlay').classList.toggle('active');
    }

    // 3. íƒ­ ì „í™˜ (ì²´í¬ë¦¬ìŠ¤íŠ¸)
    function showTab(tabName) {
        document.querySelectorAll('.check-tab-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        document.querySelectorAll('.check-content').forEach(c => c.classList.remove('active'));
        document.getElementById('tab-' + tabName).classList.add('active');
    }

    // 4. ìˆ«ì í¬ë§·íŒ…
    function formatNumber(el) {
        let val = el.value.replace(/[^0-9]/g, '');
        if(val) el.value = parseInt(val).toLocaleString();
    }

    // 5. ìƒì†ì„¸ ê³„ì‚° ë¡œì§ (ëˆ„ì§„ì„¸ìœ¨ ì ìš©)
    function calculateInheritanceTax() {
        const asset = parseInt(document.getElementById('calc-asset').value.replace(/,/g, '') || 0);
        const debt = parseInt(document.getElementById('calc-debt').value.replace(/,/g, '') || 0);
        const deduction = parseInt(document.getElementById('calc-deduction').value.replace(/,/g, '') || 0);
        
        let base = Math.max(0, asset - debt - deduction);
        let tax = 0;
        
        if (base <= 100000000) tax = base * 0.1;
        else if (base <= 500000000) tax = base * 0.2 - 10000000;
        else if (base <= 1000000000) tax = base * 0.3 - 60000000;
        else if (base <= 3000000000) tax = base * 0.4 - 160000000;
        else tax = base * 0.5 - 460000000;

        document.getElementById('calc-base').innerText = base.toLocaleString();
        document.getElementById('calc-tax-amount').innerText = Math.floor(Math.max(0, tax)).toLocaleString() + "ì›";
        document.getElementById('calc-result').classList.add('show');
    }

    // 6. ì±„íŒ… ê¸°ëŠ¥
    function sendMessage(type) {
        const input = document.getElementById('input-'+type);
        const area = document.getElementById('msg-area-'+type);
        if(!input.value.trim()) return;
        
        area.innerHTML += `<div class="chat-bubble-row me"><div class="chat-bubble me">${input.value}</div></div>`;
        input.value = '';
        area.scrollTop = area.scrollHeight;
        
        setTimeout(() => {
             const reply = type === 'lawyer' ? "ë“±ê¸° ì„œë¥˜ëŠ” ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”." : "ê³µì œ í•œë„ë¥¼ ë¨¼ì € í™•ì¸í•´ë³´ì„¸ìš”.";
             const name = type === 'lawyer' ? "ê¹€ë²•ë¬´" : "ì´ì„¸ë¬´";
             const icon = type === 'lawyer' ? "ğŸ‘¨â€âš–ï¸" : "ğŸ‘©â€ğŸ’¼";
             area.innerHTML += `<div class="chat-bubble-row you"><div class="chat-profile">${icon}</div><div><div class="chat-name tiny muted">${name}</div><div class="chat-bubble you">${reply}</div></div></div>`;
             area.scrollTop = area.scrollHeight;
        }, 1000);
    }
    function handleEnter(e, type) { if(e.key === 'Enter') sendMessage(type); }

    // 7. Q&A ê¸€ì“°ê¸°
    function openQnaWrite() { document.getElementById('writeModal').classList.add('active'); }
    function closeQnaWrite() { document.getElementById('writeModal').classList.remove('active'); }
    function submitQuestion() {
        const title = document.getElementById('qna-title').value;
        const cat = document.getElementById('qna-category').value;
        if(!title) return alert('ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”');
        
        document.getElementById('qna-container').insertAdjacentHTML('afterbegin', `
            <div class="card">
                <div class="hstack space-between mb-10"><span class="tiny bold" style="color:var(--brand);">${cat}</span><span class="status-wait">ë“±ë¡ë¨</span></div>
                <div class="bold">${title}</div>
                <div class="tiny muted mt-6">ë°©ê¸ˆ ì „ ë“±ë¡</div>
            </div>
        `);
        closeQnaWrite();
        alert('ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
  </script>
</body>
</html>
